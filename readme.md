# PyroStreams Vimeo Field Type 1.2.0

This is a simple field type that allows you to provide a Vimeo URL or ID in your PyroStreams form, and get back information about the video to use in your templates (acquired via the Vimeo API).

## Installation

Download from GitHub, and rename the folder to "vimeo". Put this into your addons/default/field\_types or addons/shared\_addons/field\_types folder. You will have an option of "Vimeo" in your field list now.

## Field Type Data

<table>

	<tr>
		<td>Compatability</td>
		<td>PyroCMS 2.2</td>
	</tr>
	<tr>
		<td>MySQL Column Type</td>
		<td>VARCHAR</td>
	</tr>

</table>

## Change Log

**1.2.0 - April 8, 2013**

* Updated the syntax to be compatible with PyroCMS 2.2

## Displaying Vimeo Data

You can use Vimeo data in your template by using your field slug as a tag pair. So, for instance, if you created a video field with a slug of 'my_video', you could go ahead and access your Vimeo data like this:

	{{ if my_video:title }}

		{{ my_video:title }}
		{{ my_video:number_of_plays }}

	{{ endif }}

### Tags

The Vimeo video tags is an array, so you can access them in a loop:

	{{ my_video:tags }}

		{{ tag }}

	{{ /my_video:tags }}

If you don't want to have to deal with looping through the tags, the *tag\_string* variable has all the tags in a string separated by commas.

	My video tags: {{ tag_string }}

## Vimeo Variables

The following variables are available to you from the Vimeo API:

<table>

	<tr>
		<td>vimeo_id</td>
		<td>The Vimeo ID.</td>
	</tr>
	<tr>
		<td>title</td>
		<td>The video title.</td>
	</tr>
	<tr>
		<td>url_title</td>
		<td>A url-friendly version of the title. This is not generated by the API, but is created by the field type.</td>
	</tr>
	<tr>
		<td>description</td>
		<td>The video description.</td>
	</tr>
	<tr>
		<td>desc_no_html</td>
		<td>The video description with the HTML stripped out.</td>
	</tr>
	<tr>
		<td>vimeo_url</td>
		<td>Full URL to the video on Vimeo.</td>
	</tr>
	<tr>
		<td>thumb_small</td>
		<td>The video thumb (small size).</td>
	</tr>
	<tr>
		<td>thumb_medium</td>
		<td>The video thumb (medium size).</td>
	</tr>
	<tr>
		<td>thumb_large</td>
		<td>The video thumb (large size).</td>
	</tr>
	<tr>
		<td>user_name</td>
		<td>The username of the video uploader.</td>
	</tr>
	<tr>
		<td>user_url</td>
		<td>The profile url of the video uploader.</td>
	</tr>
	<tr>
		<td>user_portrait_small</td>
		<td>The portrait of the video uploader (small size).</td>
	</tr>
	<tr>
		<td>user_portrait_medium</td>
		<td>The portrait of the video uploader (medium size).</td>
	</tr>
	<tr>
		<td>user_portrait_large</td>
		<td>The portrait of the video uploader (large size).</td>
	</tr>
	<tr>
		<td>user_portrait_huge</td>
		<td>The portrait of the video uploader (huge size).</td>
	</tr>
	<tr>
		<td>number_of_likes</td>
		<td>The number of likes the video has.</td>
	</tr>
	<tr>
		<td>number_of_plays</td>
		<td>The number of plays the video has.</td>
	</tr>
	<tr>
		<td>number_of_comments</td>
		<td>The number of comments the video has</td>
	</tr>
	<tr>
		<td>duration</td>
		<td>Duration of the video (ex: 7:36).</td>
	</tr>
	<tr>
		<td>width</td>
		<td>Original width of the video.</td>
	</tr>
	<tr>
		<td>height</td>
		<td>Original height of the video.</td>
	</tr>	
	<tr>
		<td>tags_string</td>
		<td>A string of tags separated by a comma.</td>
	</tr>
	<tr>
		<td>tags</td>
		<td>Array of tags (see "Displaying Vimeo Data" section above).</td>
	</tr>

</table>

## API Call Caching

The cache is set manually to 150 minutes. You can change the cache time using the `$cacheTime` class variable.

## Note about Image Caching

It's never good practice to hotlink images from any other site, including Vimeo. Makes sure you use a plugin like [PyroCMS Image Cache](https://github.com/adamfairholm/PyroCMS-Image-Cache) to cache images locally.
